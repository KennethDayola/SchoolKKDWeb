<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Assessment</title>
  <link rel="stylesheet" href="assessment.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
  <div class="wrapper">
    <nav class="side-navbar">
    <ul>
      
      <li class="profile-link">
          <a href="profile.html">
            <img class="prof-pic" src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png" alt="Profile Picture">
            <span class="sidebar-fullname"> John M. Doe </span>
          </a>
        </li>
    </ul>
      
   <div class="small-space">
    </div>
    <div class="white-separator">
    </div>
    <div class="small-space"></div>
      
    <ul>
       <li class="nav-link small-margin-top"><a href="dashboard.html">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 9v11a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9"/>
                  <path d="M9 22V12h6v10M2 10.6L12 2l10 8.6"/>
              </svg>
              Dashboard
          </a></li>
      
      </ul>

    <div class="small-space">
    </div>
    <div class="white-separator">
    </div>
    <div class="medium-space"></div>
      
      <div class="section-head">ACADEMIC</div>
      <ul>

          <li class="nav-link"><a href="enrollment.html">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34"></path>
                  <polygon points="18 2 22 6 12 16 8 16 8 12 18 2"></polygon>
              </svg>
              Enrollment
          </a></li>
          <li class="nav-link"><a href="dashboard.html">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M20 9v11a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V9"/>
                      <path d="M9 22V12h6v10M2 10.6L12 2l10 8.6"/>
                  </svg>
                  Prospectus
              </a></li>
            <li class="nav-link"><a href="dashboard.html">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/><path d="M14 3v5h5M16 13H8M16 17H8M10 9H8"/></svg>
                  Grades
              </a></li>
        <li class="nav-link"><a href="studyload.html">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18"/></svg>                  
          Study Load
            </a></li>
      </ul>
      
    <div class="small-space">
    </div>
    <div class="white-separator">
    </div>
    <div class="medium-space"></div>
      
     <div class="section-head">ADMINISTRATIVE</div>
      <ul>
        
          <li class="nav-link"><a href="assessment.html">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M7 15h0M2 9.5h20"/></svg>
              Assessment
          </a></li>
        <li class="nav-link"><a href="dashboard.html">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 17H2a3 3 0 0 0 3-3V9a7 7 0 0 1 14 0v5a3 3 0 0 0 3 3zm-8.27 4a2 2 0 0 1-3.46 0"></path></svg>
               Notices
          </a></li>
      </ul>
      
       <div class="small-space">
    </div>
    <div class="white-separator">
    </div>
    <div class="medium-space"></div>
      
     <div class="section-head">PREFERENCES</div>
        
    <ul>
          <li class="nav-link"><a href="settings.html">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="3"></circle>
                  <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
              </svg>
              Settings
          </a></li>
          <li class="nav-link"><a href="login.html" id="logout">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M16 17l5-5-5-5M19.8 12H9M10 3H4v18h6"/>
              </svg>
              Logout
          </a></li>
      </ul>

         
    </nav>
    
    <div class="content-area">
  <h1>Assessment Summary</h1>
  <div class="assessment-box">
    <p><strong>Student ID:</strong> <span id="studentId">Loading...</span></p>
    <p><strong>Total Units:</strong> <span id="totalUnits">Loading...</span></p>
    <p><strong>Tuition Fee:</strong> <span id="tuitionFee">Loading...</span></p>
  </div>
</div>

    
  </div>
 <script>
document.addEventListener("DOMContentLoaded", () => {
  const studentId = localStorage.getItem("studentId");

  console.log("Stored Student ID:", studentId); 

  if (!studentId) {
    console.error("Student ID not found in localStorage");
    document.querySelector('.assessment-box').innerHTML = '<p style="color:red;">Student ID not found.</p>';
    return;
  }

  fetch(`https://astonishing-unruly-tomato.glitch.me/assessment/${studentId}`)
    .then(response => {
      if (!response.ok) throw new Error("Network response was not ok");
      return response.json();
    })
    .then(data => {
      console.log("Fetched assessment data:", data); 

      document.getElementById('studentId').textContent = data.studentId || 'N/A';
      document.getElementById('totalUnits').textContent = data.totalUnits || '0';
      document.getElementById('tuitionFee').textContent = `â‚±${data.tuitionFee || '0'}`;
    })
    .catch(error => {
      console.error("Fetch error:", error);
      document.querySelector('.assessment-box').innerHTML = '<p style="color:red;">Failed to load assessment data.</p>';
    });
});
</script>



</body>
</html>